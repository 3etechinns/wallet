<div class="row">
  <div class="col-md-3">

    <div class="dropdown fullsize-dropdown">
      <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
        <b class="caret"></b>
        <span>{{ endpoint.properties.name }}</span>
      </button>
      <ul class="dropdown-menu">
        <li ng-repeat="endpoint in endpoints"><a href="" ng-click="setEndpoint(endpoint)">{{ endpoint.properties.name }}</a></li>
      </ul>
    </div>

    <div class="list-group top-spacing">
      <a href="" class="list-group-item" ng-click="setView('advanced-transaction')" ng-class="{'active': display == 'advanced-transaction'}">Transaction</a>
      <a href="" class="list-group-item" ng-click="setView('alias-editor')" ng-class="{'active': display == 'alias-editor'}">Edit Aliases</a>
      <a href="" class="list-group-item" ng-click="setView('tree-view')" ng-class="{'active': display == 'tree-view'}">Tree View</a>
    </div>

  </div>
  <div class="col-md-9" ng-switch on="display">

    <!-- Transaction Builder -->
    <form method="post" ng-switch-when="advanced-transaction" ng-submit="submit()" autocomplete="off" ng-controller="TransactionController">
      <table class="table">
        <tr>
          <th>Account</th>
          <th>Asset</th>
          <th>Amount</th>
          <th></th>
        </tr>
        <tr ng-repeat="mutation in mutations">
          <td ng-class="{'has-error': mutation.accountError}"><input type="text" class="form-control" ng-model="mutation.account" ng-change="mutation.accountError = false"></td>
          <td ng-class="{'has-error': mutation.assetError}"><input type="text" class="form-control" ng-model="mutation.asset" ng-change="mutation.assetError = false"></td>
          <td ng-class="{'has-error': mutation.amountError}"><input type="text" class="form-control" ng-model="mutation.amount" ng-change="mutation.amountError = false"></td>
          <td><button type="button" class="form-control" ng-click="remove($index)">Delete</button></td>
        </tr>
      </table>
      <div class="pull-right">
        <button type="button" class="btn btn-default" ng-click="addMutation()">Add row</button>
        <button type="button" class="btn btn-primary" ng-click="submit()">Submit</button>
      </div>
    </form>

    <!-- Transaction Builder -->
    <form method="post" ng-switch-when="alias-editor" name="aliasEditor" ng-submit="submit()" autocomplete="off" ng-controller="AliasEditorController">
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h3 class="panel-title">Edit Alias</h3>
          </div>
          <div class="panel-body">

            <div class="form-group" ng-class="{'has-error': sendForm.alias.$invalid && sendForm.alias.$dirty}">
              <label class="control-label" for="alias">Alias</label>
              <div class="input-group">
                <input type="text" class="form-control" name="alias" id="alias" placeholder="Alias" ng-model="fields.alias" required>
                <div class="input-group-btn">
                  <button type="button" class="btn btn-default" ng-click="loadAlias()">Refresh</button>
                </div>
              </div>
            </div>

            <div class="form-group" ng-class="{'has-error': sendForm.path.$invalid && sendForm.path.$dirty}">
              <label class="control-label" for="assetImage">Path</label>
              <input type="text" class="form-control" name="path" id="path" placeholder="Path" ng-model="fields.path" required>
            </div>

          </div>
          <div class="panel-footer text-right">
            <button type="submit" class="btn btn-primary" ng-disabled="aliasEditor.$invalid">Send</button>
          </div>
        </div>
    </form>

    <div ng-switch-when="tree-view" ng-controller="TreeViewController">
      
      <tree-grid tree-data="treeData" col-defs="colDefs" expand-level="2"></tree-grid>

    </div>

  </div>
</div>
